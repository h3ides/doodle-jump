(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))u(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const I of r.addedNodes)I.tagName==="LINK"&&I.rel==="modulepreload"&&u(I)}).observe(document,{childList:!0,subtree:!0});function x(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function u(i){if(i.ep)return;i.ep=!0;const r=x(i);fetch(i.href,r)}})();let a,f=360,h=576,l,A=46,M=46,P=f/2-A/2,S=h*7/8-M,c,v,o={img:null,x:P,y:S,width:A,height:M},p=0,d=0,y=-8,b=.4,n=[],L=60,O=18,g,w=0,s=0,m=!1;window.onload=function(){a=document.getElementById("board"),a.height=h,a.width=f,l=a.getContext("2d"),c=new Image,c.src="./doodler-right.png",o.img=c,c.onload=function(){l.drawImage(o.img,o.x,o.y,o.width,o.height)},v=new Image,v.src="./doodler-left.png",g=new Image,g.src="./platform.png",d=y,X(),requestAnimationFrame(R),document.addEventListener("keydown",q)};function R(){if(requestAnimationFrame(R),!m){l.clearRect(0,0,a.width,a.height),o.x+=p,o.x>f?o.x=0:o.x+o.width<0&&(o.x=f),d+=b,o.y+=d,o.y>a.height&&(m=!0),l.drawImage(o.img,o.x,o.y,o.width,o.height);for(let e=0;e<n.length;e++){let t=n[e];d<0&&o.y<h*3/4&&(t.y-=y),F(o,t)&&d>=0&&(d=y),l.drawImage(t.img,t.x,t.y,t.width,t.height)}for(;n.length>0&&n[0].y>=h;)n.shift(),E();H(),l.fillStyle="black",l.font="16px sans-serif",l.fillText(w,5,20),m&&l.fillText("Game Over: Press 'Space' to Restart",f/7,h*7/8)}}function q(e){e.code=="ArrowRight"||e.code=="KeyD"?(p=4,o.img=c):e.code=="ArrowLeft"||e.code=="KeyA"?(p=-4,o.img=v):e.code=="Space"&&m&&(o={img:c,x:P,y:S,width:A,height:M},p=0,d=y,w=0,s=0,m=!1,X())}function X(){n=[];let e={img:g,x:f/2,y:h-50,width:L,height:O};n.push(e);for(let t=0;t<6;t++){let x=Math.floor(Math.random()*f*3/4),u={img:g,x,y:h-75*t-150,width:L,height:O};n.push(u)}}function E(){let e=Math.floor(Math.random()*f*3/4),t={img:g,x:e,y:-18,width:L,height:O};n.push(t)}function F(e,t){return e.x<t.x+t.width&&e.x+e.width>t.x&&e.y<t.y+t.height&&e.y+e.height>t.y}function H(){let e=Math.floor(50*Math.random());d<0?(s+=e,w<s&&(w=s)):d>=0&&(s-=e)}
